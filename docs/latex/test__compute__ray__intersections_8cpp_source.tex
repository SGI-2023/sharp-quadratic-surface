\doxysection{test\+\_\+compute\+\_\+ray\+\_\+intersections.\+cpp}
\hypertarget{test__compute__ray__intersections_8cpp_source}{}\label{test__compute__ray__intersections_8cpp_source}\index{src/tests/test\_compute\_ray\_intersections.cpp@{src/tests/test\_compute\_ray\_intersections.cpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ <catch2/catch\_test\_macros.hpp>}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}common.h"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}compute\_ray\_intersections.h"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}generate\_shapes.h"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}compute\_ray\_intersections\_pencil\_method.h"{}}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ TEST\_CASE(\textcolor{stringliteral}{"{}The\ intersection\ of\ a\ line\ and\ a\ plane\ can\ be\ found"{}},}
\DoxyCodeLine{00010\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[compute\_ray\_intersections]"{}})\ \{}
\DoxyCodeLine{00011\ \ \ Matrix6x3r\ surface\_mapping\_coeffs;}
\DoxyCodeLine{00012\ \ \ Matrix2x3r\ ray\_mapping\_coeffs;}
\DoxyCodeLine{00013\ \ \ std::array<PlanarPoint,\ MAX\_PATCH\_RAY\_INTERSECTIONS>\ surface\_intersections;}
\DoxyCodeLine{00014\ \ \ std::array<double,\ MAX\_PATCH\_RAY\_INTERSECTIONS>\ ray\_intersections;}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{comment}{//\ \ SECTION("{}Orthogonal\ ray"{})\ \{}}
\DoxyCodeLine{00017\ \textcolor{comment}{//\ \ \ \ surface\_mapping\_coeffs\ <<\ 0,\ 0,\ 0,\ 1,\ 0,\ 0,\ 0,\ 1,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ \ \ \ \ \ \ \ 0;}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ \ \ \ ray\_mapping\_coeffs\ <<\ 0.5,\ 0.5,\ 1,\ 0,\ 0,\ -\/2;}}
\DoxyCodeLine{00020\ \textcolor{comment}{//}}
\DoxyCodeLine{00021\ \textcolor{comment}{//\ \ \ \ compute\_normalized\_quadratic\_surface\_ray\_intersections(}}
\DoxyCodeLine{00022\ \textcolor{comment}{//\ \ \ \ \ \ \ \ surface\_mapping\_coeffs,\ ray\_mapping\_coeffs,\ surface\_intersections,}}
\DoxyCodeLine{00023\ \textcolor{comment}{//\ \ \ \ \ \ \ \ ray\_intersections);}}
\DoxyCodeLine{00024\ \textcolor{comment}{//}}
\DoxyCodeLine{00025\ \textcolor{comment}{//\ \ \ \ REQUIRE(surface\_intersections.size()\ ==\ 1);}}
\DoxyCodeLine{00026\ \textcolor{comment}{//\ \ \ \ REQUIRE(ray\_intersections.size()\ ==\ 1);}}
\DoxyCodeLine{00027\ \textcolor{comment}{//\ \ \ \ REQUIRE(vector\_equal(surface\_intersections[0],\ PlanarPoint(0.5,\ 0.5)));}}
\DoxyCodeLine{00028\ \textcolor{comment}{//\ \ \ \ REQUIRE(float\_equal(ray\_intersections[0],\ 0.5));}}
\DoxyCodeLine{00029\ \textcolor{comment}{//\ \ \}}}
\DoxyCodeLine{00030\ \textcolor{comment}{//}}
\DoxyCodeLine{00031\ \textcolor{comment}{//\ \ SECTION("{}Parallel\ ray"{})\ \{}}
\DoxyCodeLine{00032\ \textcolor{comment}{//\ \ \ \ surface\_mapping\_coeffs\ <<\ 0,\ 0,\ 0,\ 1,\ 0,\ 0,\ 0,\ 1,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,}}
\DoxyCodeLine{00033\ \textcolor{comment}{//\ \ \ \ \ \ \ \ 0;}}
\DoxyCodeLine{00034\ \textcolor{comment}{//\ \ \ \ ray\_mapping\_coeffs\ <<\ 0.5,\ 0.5,\ 1,\ 0,\ 1,\ 0;}}
\DoxyCodeLine{00035\ \textcolor{comment}{//}}
\DoxyCodeLine{00036\ \textcolor{comment}{//\ \ \ \ compute\_normalized\_quadratic\_surface\_ray\_intersections(}}
\DoxyCodeLine{00037\ \textcolor{comment}{//\ \ \ \ \ \ \ \ surface\_mapping\_coeffs,\ ray\_mapping\_coeffs,\ surface\_intersections,}}
\DoxyCodeLine{00038\ \textcolor{comment}{//\ \ \ \ \ \ \ \ ray\_intersections);}}
\DoxyCodeLine{00039\ \textcolor{comment}{//}}
\DoxyCodeLine{00040\ \textcolor{comment}{//\ \ \ \ REQUIRE(surface\_intersections.size()\ ==\ 0);}}
\DoxyCodeLine{00041\ \textcolor{comment}{//\ \ \ \ REQUIRE(ray\_intersections.size()\ ==\ 0);}}
\DoxyCodeLine{00042\ \textcolor{comment}{//\ \ \}}}
\DoxyCodeLine{00043\ \textcolor{comment}{//}}
\DoxyCodeLine{00044\ \textcolor{comment}{//\ \ SECTION("{}Oblique\ ray"{})\ \{}}
\DoxyCodeLine{00045\ \textcolor{comment}{//\ \ \ \ surface\_mapping\_coeffs\ <<\ 0,\ 0,\ 0,\ 1,\ 0,\ 0,\ 0,\ 1,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,}}
\DoxyCodeLine{00046\ \textcolor{comment}{//\ \ \ \ \ \ \ \ 0;}}
\DoxyCodeLine{00047\ \textcolor{comment}{//\ \ \ \ ray\_mapping\_coeffs\ <<\ 0.5,\ 0.5,\ 1,\ 0,\ 0.5,\ -\/4;}}
\DoxyCodeLine{00048\ \textcolor{comment}{//}}
\DoxyCodeLine{00049\ \textcolor{comment}{//\ \ \ \ compute\_normalized\_quadratic\_surface\_ray\_intersections(}}
\DoxyCodeLine{00050\ \textcolor{comment}{//\ \ \ \ \ \ \ \ surface\_mapping\_coeffs,\ ray\_mapping\_coeffs,\ surface\_intersections,}}
\DoxyCodeLine{00051\ \textcolor{comment}{//\ \ \ \ \ \ \ \ ray\_intersections);}}
\DoxyCodeLine{00052\ \textcolor{comment}{//}}
\DoxyCodeLine{00053\ \textcolor{comment}{//\ \ \ \ REQUIRE(surface\_intersections.size()\ ==\ 1);}}
\DoxyCodeLine{00054\ \textcolor{comment}{//\ \ \ \ REQUIRE(ray\_intersections.size()\ ==\ 1);}}
\DoxyCodeLine{00055\ \textcolor{comment}{//\ \ \ \ REQUIRE(vector\_equal(surface\_intersections[0],\ PlanarPoint(0.5,\ 0.625)));}}
\DoxyCodeLine{00056\ \textcolor{comment}{//\ \ \ \ REQUIRE(float\_equal(ray\_intersections[0],\ 0.25));}}
\DoxyCodeLine{00057\ \textcolor{comment}{//\ \ \}}}
\DoxyCodeLine{00058\ \textcolor{comment}{//}}
\DoxyCodeLine{00059\ \textcolor{comment}{//\ \ SECTION("{}Folded\ surface"{})\ \{}}
\DoxyCodeLine{00060\ \textcolor{comment}{//\ \ \ \ surface\_mapping\_coeffs\ <<\ 0,\ 0,\ 0,\ 0,\ 0,\ 1,\ 0,\ 1,\ 0,\ 0,\ 0,\ 0,\ 1,\ 0,\ 0,\ 0,\ 0,}}
\DoxyCodeLine{00061\ \textcolor{comment}{//\ \ \ \ \ \ \ \ 0;}}
\DoxyCodeLine{00062\ \textcolor{comment}{//\ \ \ \ ray\_mapping\_coeffs\ <<\ 0.6,\ 0.5,\ 1,\ 0,\ 0,\ -\/2;}}
\DoxyCodeLine{00063\ \textcolor{comment}{//}}
\DoxyCodeLine{00064\ \textcolor{comment}{//\ \ \ \ compute\_normalized\_quadratic\_surface\_ray\_intersections(}}
\DoxyCodeLine{00065\ \textcolor{comment}{//\ \ \ \ \ \ \ \ surface\_mapping\_coeffs,\ ray\_mapping\_coeffs,\ surface\_intersections,}}
\DoxyCodeLine{00066\ \textcolor{comment}{//\ \ \ \ \ \ \ \ ray\_intersections);}}
\DoxyCodeLine{00067\ \textcolor{comment}{//}}
\DoxyCodeLine{00068\ \textcolor{comment}{//\ \ \ \ REQUIRE(surface\_intersections.size()\ ==\ 1);}}
\DoxyCodeLine{00069\ \textcolor{comment}{//\ \ \ \ REQUIRE(ray\_intersections.size()\ ==\ 1);}}
\DoxyCodeLine{00070\ \textcolor{comment}{//\ \ \}}}
\DoxyCodeLine{00071\ \textcolor{comment}{//}}
\DoxyCodeLine{00072\ \textcolor{comment}{//\ \ }}
\DoxyCodeLine{00073\ \textcolor{comment}{//}}
\DoxyCodeLine{00074\ \ \ SECTION(\textcolor{stringliteral}{"{}Nonstandard\ domain"{}})\ \{}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{comment}{//\ surface\_mapping\_coeffs\ <<\ 0,\ 0,\ 0,\ //\ 1}}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ 1,\ 0,\ 0,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ u}}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ 0,\ 1,\ 0,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ v}}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ 0,\ 0,\ 0,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ uv}}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ 0,\ 0,\ 0,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ uu}}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ 0,\ 0,\ 0;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ vv}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ surface\_mapping\_coeffs\ <<\ 0.1,\ 0.2,\ 0,\ \textcolor{comment}{//\ 1}}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ 1,\ 0.1,\ 0.2,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ u}}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ 0.3,\ 0.2,\ 0.6,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ v}}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ -\/0.2,\ 0.3,\ 2,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ uv}}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ -\/0.2,\ 0.1,\ 1.2,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ uu}}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ 1,\ 0.2,\ 2;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ vv}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ surface\_mapping\_coeffs\ <<\ -\/1.7644781234132338,\ 2.3739354387396845,}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ 151.40962125112011,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ 0.064700996167022434,\ 0.060355200875465254,\ 0.11004004230059464,\ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ 0.096340254611671616,\ 0.20934622175013734,\ -\/0.037910458133162371,\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ -\/0.046780436914869238,\ 0.03653445519442261,\ 0.0067183808714837631,\ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ -\/0.019222335822841597,\ -\/0.0027165803799707611,\ 0.0060945333950915663,\ \textcolor{comment}{//}}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ -\/0.01945302670205272,\ 0.012961148925535924,\ -\/0.0050044769478544589;}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ std::cout\ <<\ surface\_mapping\_coeffs.transpose()\ <<\ std::endl;}
\DoxyCodeLine{00098\ \ \ \ \ MatrixXr\ uv(3,\ 2);}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{comment}{//\ uv\ <<\ 0.5,\ 0.5,\ 1.0,\ 0.0,\ 1.0,\ 1.0;}}
\DoxyCodeLine{00100\ \ \ \ \ uv\ <<\ 0,\ 0,\ 1,\ 0,\ 0,\ 1;}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \mbox{\hyperlink{class_convex_polygon}{ConvexPolygon}}\ normalized\_domain(uv);}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \ \ \mbox{\hyperlink{class_quadratic_spline_surface_patch}{QuadraticSplineSurfacePatch}}\ spline\_surface\_patch(surface\_mapping\_coeffs,}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ normalized\_domain);}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{comment}{//\ ray\_mapping\_coeffs\ <<\ 0.75,\ 0.6,\ -\/0.5,\ 0,\ 0,\ 1;}}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{comment}{//\ ray\_mapping\_coeffs\ <<\ 8.75\ /\ 2.0,\ 1.5\ /\ 2.0,\ -\/0.5,\ 0,\ 0,\ 2;}}
\DoxyCodeLine{00108\ \ \ \ \ ray\_mapping\_coeffs\ <<\ -\/1.69671806538393,\ 2.5609728762486372,}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ 51.377018112355586,\ 0,\ 0,\ 200;}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{comment}{//compute\_spline\_surface\_patch\_ray\_intersections(}}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{comment}{//\ \ \ \ spline\_surface\_patch,\ ray\_mapping\_coeffs,\ surface\_intersections,}}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{comment}{//\ \ \ \ ray\_intersections);}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}here"{}}\ <<\ std::endl;}
\DoxyCodeLine{00116\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}original\ u\ v:"{}}\ <<\ std::endl;}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ surface\_intersections.size();\ i++)\ \{}
\DoxyCodeLine{00118\ \ \ \ \ \ \ std::cout\ <<\ surface\_intersections[i].transpose()\ <<\ std::endl;}
\DoxyCodeLine{00119\ \ \ \ \ \}}
\DoxyCodeLine{00120\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}original\ t:"{}}\ <<\ std::endl;}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ ray\_intersections.size();\ i++)\ \{}
\DoxyCodeLine{00122\ \ \ \ \ \ \ std::cout\ <<\ ray\_intersections[i]\ <<\ std::endl;}
\DoxyCodeLine{00123\ \ \ \ \ \}}
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_intersections;}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ ray\_intersections\_call;}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ ray\_bounding\_box\_call;}
\DoxyCodeLine{00127\ \ \ \ \ compute\_spline\_surface\_patch\_ray\_intersections\_pencil\_method(}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ spline\_surface\_patch,\ ray\_mapping\_coeffs,\ num\_intersections,\ surface\_intersections,}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ ray\_intersections,\ ray\_intersections\_call,\ ray\_bounding\_box\_call);}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}here2"{}}\ <<\ std::endl;}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}pencil\ u\ v:"{}}\ <<\ std::endl;}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_intersections;\ i++)\ \{}
\DoxyCodeLine{00135\ \ \ \ \ \ \ std::cout\ <<\ surface\_intersections[i].transpose()\ <<\ std::endl;}
\DoxyCodeLine{00136\ \ \ \ \ \}}
\DoxyCodeLine{00137\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}pencil\ t:"{}}\ <<\ std::endl;}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ num\_intersections;\ i++)\ \{}
\DoxyCodeLine{00139\ \ \ \ \ \ \ std::cout\ <<\ ray\_intersections[i]\ <<\ std::endl;}
\DoxyCodeLine{00140\ \ \ \ \ \}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{comment}{//\ REQUIRE(surface\_intersections.size()\ ==\ 1);}}
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{comment}{//\ REQUIRE(ray\_intersections.size()\ ==\ 1);}}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{comment}{//\ REQUIRE(vector\_equal(surface\_intersections[0],\ PlanarPoint(0.75,\ 0.6)));}}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{comment}{//\ REQUIRE(float\_equal(ray\_intersections[0],\ 0.5));}}
\DoxyCodeLine{00146\ \ \ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ SECTION(\textcolor{stringliteral}{"{}Buggy\ case"{}})\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{comment}{//surface\_mapping\_coeffs\ <<}}
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{comment}{//-\/0.2693712613262523,\ -\/0.5153358428079721,\ -\/5.0861375988037265,}}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{comment}{//-\/0.6495837675648397,\ -\/0.4482439315535407,\ \ 0.0651557329235988,}}
\DoxyCodeLine{00152\ \ \ \ \ \ \textcolor{comment}{//0.0052419258883517,\ -\/0.0314664588921571,\ \ 0.0314649989041941,}}
\DoxyCodeLine{00153\ \ \ \ \ \ \textcolor{comment}{//0.0063504149683548,\ \ 0.0327342275532451,\ \ 0.0179998107390204,}}
\DoxyCodeLine{00154\ \ \ \ \ \ \textcolor{comment}{//0.0521452691525865,\ \ 0.3891106316368191,\ \ 0.0164684727730394,}}
\DoxyCodeLine{00155\ \ \ \ \ \ \textcolor{comment}{//0.0077627374615072,\ \ 0.0097248648585380,\ \ 0.0052741903599595;}}
\DoxyCodeLine{00156\ \ \ \ \ \ }
\DoxyCodeLine{00157\ \ \ \ \ surface\_mapping\_coeffs\ <<}
\DoxyCodeLine{00158\ \ \ \ \ \ 0.0306990265776488,\ -\/0.0083980370575310,\ -\/5.0953307552169225,}
\DoxyCodeLine{00159\ \ \ \ \ -\/0.0085178318208030,\ -\/1.1377644072476367,\ \ 0.0007980868147486,}
\DoxyCodeLine{00160\ \ \ \ \ \ 0.0988863835140743,\ -\/1.1312633598946833,\ -\/0.0935388401944144,}
\DoxyCodeLine{00161\ \ \ \ \ -\/2.6232348137245647,\ \ 0.7342847594183667,\ \ 0.0073067668313452,}
\DoxyCodeLine{00162\ \ \ \ \ -\/1.1976146269412042,\ \ 0.4707137286546729,\ -\/0.0035880162103296,}
\DoxyCodeLine{00163\ \ \ \ \ -\/1.3980539186437533,\ \ 0.2347754967876012,\ \ 0.2238503060416120;}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \ \ \ \ std::cout\ <<\ surface\_mapping\_coeffs.transpose()\ <<\ std::endl;}
\DoxyCodeLine{00166\ \ \ \ \ MatrixXr\ uv(3,\ 2);}
\DoxyCodeLine{00167\ \ \ \ \ uv\ <<}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ -\/0,\ \ 0.5,}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ 0,\ \ \ -\/0,}
\DoxyCodeLine{00170\ \ \ \ \ \ \ 0.25,\ 0.25;}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \mbox{\hyperlink{class_convex_polygon}{ConvexPolygon}}\ normalized\_domain(uv);}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \ \ \mbox{\hyperlink{class_quadratic_spline_surface_patch}{QuadraticSplineSurfacePatch}}\ spline\_surface\_patch(surface\_mapping\_coeffs,}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ normalized\_domain);}
\DoxyCodeLine{00176\ \ \ \ \ ray\_mapping\_coeffs\ <<\ }
\DoxyCodeLine{00177\ \ \ \ \ -\/0.4639130718485140,\ -\/0.6313829128108502,\ -\/25.0169047238889739,}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0.0,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0.0,\ \ 40.0000000000000000;}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keywordtype}{int}\ num\_intersections;}
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ ray\_intersections\_call;}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ ray\_bounding\_box\_call;}
\DoxyCodeLine{00182\ \ \ \ \ compute\_spline\_surface\_patch\_ray\_intersections\_pencil\_method(}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ spline\_surface\_patch,\ ray\_mapping\_coeffs,\ num\_intersections,\ surface\_intersections,}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ ray\_intersections,\ ray\_intersections\_call,\ ray\_bounding\_box\_call);}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ \ \ REQUIRE(num\_intersections\ ==\ 0);}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{comment}{//\ REQUIRE(vector\_equal(surface\_intersections[0],\ PlanarPoint(0.75,\ 0.6)));}}
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{comment}{//\ REQUIRE(float\_equal(ray\_intersections[0],\ 0.5));}}
\DoxyCodeLine{00190\ \ \ \}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \}}

\end{DoxyCode}
