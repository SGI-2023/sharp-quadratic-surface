\doxysection{abstract\+\_\+curve\+\_\+network.\+h}
\hypertarget{abstract__curve__network_8h_source}{}\label{abstract__curve__network_8h_source}\index{src/core/abstract\_curve\_network.h@{src/core/abstract\_curve\_network.h}}
\mbox{\hyperlink{abstract__curve__network_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2023\ Adobe\ Research.\ All\ rights\ reserved.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ To\ view\ a\ copy\ of\ the\ license,\ visit\ LICENSE.md.}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}common.h"{}}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00016\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_abstract_curve_network}{AbstractCurveNetwork}}}
\DoxyCodeLine{00017\ \{}
\DoxyCodeLine{00018\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00019\ \ \ \textcolor{comment}{//\ Indices}}
\DoxyCodeLine{00020\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{int}\ NodeIndex;}
\DoxyCodeLine{00021\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{int}\ SegmentIndex;}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00024\ \ \ \mbox{\hyperlink{class_abstract_curve_network_a7acd039766284c53b42ec00690115a63}{AbstractCurveNetwork}}();}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00031\ \ \ \mbox{\hyperlink{class_abstract_curve_network_a7acd039766284c53b42ec00690115a63}{AbstractCurveNetwork}}(\textcolor{keyword}{const}\ std::vector<NodeIndex>\&\ to\_array,}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<SegmentIndex>\&\ out\_array,}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<NodeIndex>\&\ intersection\_array);}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00040\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_abstract_curve_network_a7e8741d401384ca465f1f5cde649afc4}{update\_topology}}(}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<AbstractCurveNetwork::NodeIndex>\&\ to\_array,}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<AbstractCurveNetwork::SegmentIndex>\&\ out\_array,}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<AbstractCurveNetwork::NodeIndex>\&\ intersection\_array);}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00048\ \ \ SegmentIndex\ \mbox{\hyperlink{class_abstract_curve_network_a46642315debba667c3daca7d3f716d86}{get\_num\_segments}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_to\_array.size();\ \}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00053\ \ \ NodeIndex\ \mbox{\hyperlink{class_abstract_curve_network_abd50713ddd09c886c6305f010e158a38}{get\_num\_nodes}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_out\_array.size();\ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00060\ \ \ SegmentIndex\ \mbox{\hyperlink{class_abstract_curve_network_ac34af3870a4118a4a4b83b4e969fb637}{next}}(SegmentIndex\ segment\_index)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00061\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_valid\_segment\_index(segment\_index))}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_next\_array[segment\_index];}
\DoxyCodeLine{00065\ \ \ \}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00072\ \ \ SegmentIndex\ \mbox{\hyperlink{class_abstract_curve_network_ae70dbeea019f3846b1cc81cee2262d35}{prev}}(SegmentIndex\ segment\_index)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00073\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_valid\_segment\_index(segment\_index))}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_prev\_array[segment\_index];}
\DoxyCodeLine{00077\ \ \ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00085\ \ \ NodeIndex\ \mbox{\hyperlink{class_abstract_curve_network_aa3d30a52421c5086834ea7a02065bc84}{to}}(SegmentIndex\ segment\_index)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00086\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_valid\_segment\_index(segment\_index))}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_to\_array[segment\_index];}
\DoxyCodeLine{00090\ \ \ \}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00098\ \ \ NodeIndex\ \mbox{\hyperlink{class_abstract_curve_network_a41421a1d2354e59c511a150954c50633}{from}}(SegmentIndex\ segment\_index)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00099\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_valid\_segment\_index(segment\_index))}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_from\_array[segment\_index];}
\DoxyCodeLine{00103\ \ \ \}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00110\ \ \ NodeIndex\ \mbox{\hyperlink{class_abstract_curve_network_a7d0ce0f1b760b4097c00f67529f50412}{intersection}}(NodeIndex\ node\_index)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00111\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_valid\_node\_index(node\_index))}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_intersection\_array[node\_index];}
\DoxyCodeLine{00115\ \ \ \}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00121\ \ \ SegmentIndex\ \mbox{\hyperlink{class_abstract_curve_network_a66febb681023290dc003814cdfd14353}{out}}(NodeIndex\ node\_index)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00122\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_valid\_node\_index(node\_index))}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_out\_array[node\_index];}
\DoxyCodeLine{00126\ \ \ \}}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00132\ \ \ SegmentIndex\ \mbox{\hyperlink{class_abstract_curve_network_a1a401328ed8092f97e1d7d0f337a0397}{in}}(NodeIndex\ node\_index)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00133\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_valid\_node\_index(node\_index))}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_in\_array[node\_index];}
\DoxyCodeLine{00137\ \ \ \}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00143\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_abstract_curve_network_a3c172f3ac6e2daeef50671383613db96}{is\_boundary\_node}}(NodeIndex\ node\_index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00149\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_abstract_curve_network_aa4990c668e4335a0221ce075ad041306}{has\_intersection\_node}}(NodeIndex\ node\_index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00160\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_abstract_curve_network_a645a0803586694d7ff1aa808cfae0cdf}{is\_tnode}}(NodeIndex\ node\_index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00163\ \ \ \textcolor{comment}{//\ Initialization}}
\DoxyCodeLine{00164\ \ \ \textcolor{keywordtype}{void}\ init\_abstract\_curve\_network();}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \textcolor{comment}{//\ Validity\ checks}}
\DoxyCodeLine{00167\ \ \ \textcolor{keywordtype}{bool}\ is\_valid\_segment\_index(SegmentIndex\ segment\_index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00168\ \ \ \textcolor{keywordtype}{bool}\ is\_valid\_node\_index(NodeIndex\ node\_index)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00169\ \ \ \textcolor{keywordtype}{bool}\ is\_valid\_abstract\_curve\_network()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \textcolor{comment}{//\ Clear}}
\DoxyCodeLine{00172\ \ \ \textcolor{keywordtype}{void}\ clear\_topology();}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00175\ \ \ \textcolor{comment}{//\ Segment\ topology}}
\DoxyCodeLine{00176\ \ \ std::vector<NodeIndex>\ m\_to\_array;}
\DoxyCodeLine{00177\ \ \ std::vector<NodeIndex>\ m\_from\_array;}
\DoxyCodeLine{00178\ \ \ std::vector<SegmentIndex>\ m\_next\_array;}
\DoxyCodeLine{00179\ \ \ std::vector<SegmentIndex>\ m\_prev\_array;}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00181\ \ \ \textcolor{comment}{//\ Node\ topology}}
\DoxyCodeLine{00182\ \ \ std::vector<SegmentIndex>\ m\_out\_array;}
\DoxyCodeLine{00183\ \ \ std::vector<NodeIndex>\ m\_intersection\_array;}
\DoxyCodeLine{00184\ \ \ std::vector<SegmentIndex>\ m\_in\_array;}
\DoxyCodeLine{00185\ \};}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00192\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00193\ \mbox{\hyperlink{abstract__curve__network_8h_ad3cf64643038c352914c3cbf4f6897c8}{build\_from\_array}}(}
\DoxyCodeLine{00194\ \ \ \textcolor{keyword}{const}\ std::vector<AbstractCurveNetwork::NodeIndex>\&\ to\_array,}
\DoxyCodeLine{00195\ \ \ \textcolor{keyword}{const}\ std::vector<AbstractCurveNetwork::SegmentIndex>\&\ out\_array,}
\DoxyCodeLine{00196\ \ \ std::vector<AbstractCurveNetwork::NodeIndex>\&\ from\_array);}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00205\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{00206\ \mbox{\hyperlink{abstract__curve__network_8h_a55fa7513718aea23360bfc20d4e1f8d3}{is\_valid\_curve\_data}}(}
\DoxyCodeLine{00207\ \ \ \textcolor{keyword}{const}\ std::vector<AbstractCurveNetwork::NodeIndex>\&\ to\_array,}
\DoxyCodeLine{00208\ \ \ \textcolor{keyword}{const}\ std::vector<AbstractCurveNetwork::SegmentIndex>\&\ out\_array);}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00216\ \textcolor{keywordtype}{bool}}
\DoxyCodeLine{00217\ \mbox{\hyperlink{abstract__curve__network_8h_a5ecb5a579b54923162fd8933dfbe3d3f}{is\_valid\_minimal\_curve\_network\_data}}(}
\DoxyCodeLine{00218\ \ \ \textcolor{keyword}{const}\ std::vector<AbstractCurveNetwork::NodeIndex>\&\ to\_array,}
\DoxyCodeLine{00219\ \ \ \textcolor{keyword}{const}\ std::vector<AbstractCurveNetwork::SegmentIndex>\&\ out\_array,}
\DoxyCodeLine{00220\ \ \ \textcolor{keyword}{const}\ std::vector<AbstractCurveNetwork::NodeIndex>\&\ intersection\_array);}

\end{DoxyCode}
